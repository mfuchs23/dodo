<?xml version="1.0" encoding="UTF-8"?>

<package id="tidbit" relocatable="yes">

  <name>tidbit</name>

  <version>7.0.0</version>
  <release>667</release>

  <archives>
    <archive>
      <archive-file>tidbit-7.0.0.tar.gz</archive-file>
      <archive-dir>tidbit-7.0.0</archive-dir>
    </archive>
  </archives>

  <summary>tidbit creates DocBook code from Java source documentation.</summary> 

  <description> The DocBookDoclet creates DocBook XML code from Java source
documentation. It is helpful if you want to print reference handbooks of your
API. It can also be used as standalone application to convert HTML to DocBook.
  </description> 

  <license>Copyright (c) 2001-2013 by Michael Fuchs.</license> 
  <group>Development/Tools</group>

  <architectures>
    <architecture>noarch</architecture>
  </architectures>

  <menu>
    <title>DocBook Doclet 7.0.0</title>
    <comment>Generate DocBook from javadoc comments or HTML</comment>
    <section>Apps/Text</section>
    <categories>Application;Development;</categories>
    <icon>/usr/share/tidbit/icons/dodo.xpm</icon>
    <command>/usr/share/tidbit/bin/tidbit</command>
  </menu>

  <provides>tidbit</provides>

  <prepare>

rm -rf <buildroot/><install-dir/>/share/tidbit
rm -f <buildroot/><install-dir/>/bin/dbd*
rm -f <buildroot/><install-dir/>/bin/dine

  </prepare>

  <postinstall>

rm -f /usr/bin/dbdxslt
ln -s <prefix/>/tidbit/bin/dbdxslt /usr/bin/dbdxslt

rm -f /usr/bin/dbdfop
ln -s <prefix/>/tidbit/bin/dbdfop /usr/bin/dbdfop

rm -f /usr/bin/dbdman
ln -s <prefix/>/tidbit/bin/dbdman /usr/bin/dbdman

rm -f /usr/bin/dbdcref
ln -s <prefix/>/tidbit/bin/dbdcref /usr/bin/dbdcref

rm -f /usr/bin/tidbit
ln -s <prefix/>/tidbit/bin/tidbit /usr/bin/tidbit

chmod 555 <prefix/>/tidbit/bin/*
chmod 555 <prefix/>/tidbit/fop/fop

  </postinstall>

  <postuninstall>

rm -f /usr/bin/dbdxslt
rm -f /usr/bin/dbdfop
rm -f /usr/bin/dbdman
rm -f /usr/bin/dbdcref
rm -f /usr/bin/tidbit
    
  </postuninstall>

  <build>
  </build>

  <install>

rm -vf <prefix/>/tidbit/bin/deploywebstart.sh
rm -vf <prefix/>/tidbit/bin/dbdfont
rm -vf <prefix/>/tidbit/bin/dine
rm -vf <prefix/>/tidbit/bin/herold
rm -vf <prefix/>/tidbit/bin/tappert
rm -rvf <prefix/>/tidbit/emacs
rm -rvf <prefix/>/tidbit/fop/docs
rm -rvf <prefix/>/tidbit/fop/javadocs
rm -rvf <prefix/>/tidbit/src
rm -rvf <prefix/>/tidbit/spec
rm -rvf <prefix/>/tidbit/templates
rm -rvf <prefix/>/tidbit/.deploy
rm -rvf <prefix/>/tidbit/webstart
rm -rvf <prefix/>/tidbit/ssl
rm -rvf <prefix/>/tidbit/felix-cache
rm -vf <prefix/>/tidbit/bundle/org.dbdoclet.trafo.ppt.docbook_*.jar
rm -vf <prefix/>/tidbit/bundle/org.dbdoclet.trafo.word.docbook_*.jar
rm -vf <prefix/>/tidbit/bundle/org.apache.felix.gogo*.jar

rm -rvf <buildroot/><install-dir/>/tidbit
install -d  <buildroot/><install-dir/>/tidbit
cp -vr <prefix/>/tidbit <buildroot/><install-dir/>
  </install>

<files>

<file>
  <mode>0444</mode>
  <user/>
  <group/>
  <type>file</type>
  <path><prefix/>/tidbit/LICENSE</path>
</file>

<file>
  <mode>0755</mode>
  <user/>
  <group/>
  <type>dir</type>
  <path><prefix/>/tidbit/bin</path>
</file>

<file>
  <mode>0555</mode>
  <user/>
  <group/>
  <type>file</type>
  <path><prefix/>/tidbit/bin/dbdxslt</path>
</file>

<file>
  <mode>0555</mode>
  <user/>
  <group/>
  <type>file</type>
  <path><prefix/>/tidbit/bin/dbdfop</path>
</file>

<file>
  <mode>0555</mode>
  <user/>
  <group/>
  <type>file</type>
  <path><prefix/>/tidbit/bin/dbdman</path>
</file>

<file>
  <mode>0555</mode>
  <user/>
  <group/>
  <type>file</type>
  <path><prefix/>/tidbit/bin/dbdcref</path>
</file>

<file>
  <mode>0555</mode>
  <user/>
  <group/>
  <type>file</type>
  <path><prefix/>/tidbit/bin/tidbit</path>
</file>

<file recursive="yes">
  <mode>0755</mode>
  <user/>
  <group/>
  <type>dir</type>
  <path><prefix/>/tidbit/conf</path>
</file>

<file recursive="yes">
  <mode>0755</mode>
  <user/>
  <group/>
  <type>dir</type>
  <path><prefix/>/tidbit/doc</path>
</file>

<file recursive="yes">
  <mode>0755</mode>
  <user/>
  <group/>
  <type>dir</type>
  <path><prefix/>/tidbit/docbook</path>
</file>

<file recursive="yes">
  <mode>0755</mode>
  <user/>
  <group/>
  <type>dir</type>
  <path><prefix/>/tidbit/profiles</path>
</file>

<file recursive="yes">
  <mode>0755</mode>
  <user/>
  <group/>
  <type>dir</type>
  <path><prefix/>/tidbit/fop</path>
</file>

<file recursive="yes">
  <mode>0755</mode>
  <user/>
  <group/>
  <type>dir</type>
  <path><prefix/>/tidbit/icons</path>
</file>

<file recursive="yes">
  <mode>0755</mode>
  <user/>
  <group/>
  <type>dir</type>
  <path><prefix/>/tidbit/images</path>
</file>

<file recursive="yes">
  <mode>0755</mode>
  <user/>
  <group/>
  <type>dir</type>
  <path><prefix/>/tidbit/jars</path>
</file>

<file recursive="yes">
  <mode>0755</mode>
  <user/>
  <group/>
  <type>dir</type>
  <path><prefix/>/tidbit/bundle</path>
</file>

<file recursive="yes">
  <mode>0755</mode>
  <user/>
  <group/>
  <type>dir</type>
  <path><prefix/>/tidbit/xslt</path>
</file>

</files>

</package>
